# TPM的历史
可信平台模块（TPM）是现在大多数个人电脑和服务器都有的密码协处理器。单从计算机的硬件配置角度来说，TPM是一个普遍存在的配置。但是因为没有重要的应用使用它们，所以直到今天大多数情况下用户并不知道它们的存在。当然这种情况正在迅速改变。随着最近各种各样的TPM设计得到美国联邦信息处理标准的认证，以及总统顾问委员会推荐美国政府使用TPM来保护国家的计算机，TPM已经成为计算机所有者用来保护密码资产的重要工具。即便如此，现在大多数人对TPM的了解并不足以满足顺利使用的要求，这也催生了这本书的写作。本章将简要介绍各种版本TPM，包含了TPM1.1b到TPM2.0之间的版本。
## 为什么用TPM？
1990年代，计算机领域的人逐渐意识到互联网将改变个人计算机的连接方式，相关的商业也转向互联网。同时这种情况也使得个人电脑的安全性需求大大增加。在个人电脑发展的初期，其设计很少考虑安全需求，所以也没有相关的硬件支持。软件设计的情况也是一样，主要的设计驱动是易用性。

一群计算机工程师为了扭转这种趋势设计了第一代TPM，它可以作为构建个人电脑系统安全的硬件基础。这群工程师后来成为可信计算组织（TCG）的成员。基于成本的考虑，这种安全解决方案的价格必须足够低。最终的设计结果是可以直接和主板连接的TPM芯片。TPM的命令集用来提供所有安全应用所需的功能，我们会在第三章详细描述。除此之外，任何其他不必要的功能被设计成软件实现，从而降低成本。但是这种以低成本为原则的设计也导致TPM的规格描述文档难以阅读。
硬件安全的话题不太容易展开，同时令人费解的文档也没有任何的帮助。姑且就以这种技术的历史为切入点开始介绍。
## TPM 1.1b到1.2的发展历史
第一代大规模部署的TPM是2003年发布的TPM1.1b。这个版本在当时已经具备TPM基本功能，主要包括密钥生成（仅限RSA密钥），存储，安全授权，设备安全状态认证。同时也实现了通过匿名身份密钥来实现用户隐私保护的基础功能，这项功能需要TPM提供相关证书。身份密钥的生成需要被授权。TPM还增加了隐私证书授权中心（CA）用于证明密钥是在一个真实的TPM硬件中产生的，但不需要关心在哪一个TPM中产生。

在TPM内部有一个叫做平台配置寄存器（PCR）动态内存区域用来保存系统启动过程中的测量值。这些PCR加上身份密钥可以用来认证系统的启动过程是否正常（通常是与一些已知的PCR值比较，但不仅仅是比较这么简单）。这也是用于建立系统安全的基石，TCG的主要实现目标之一。

TCG的另外一个预期的附加性目标是让TPM免于物理攻击。尽管这对于TCG来说是可以实现的，但是最终他们基于某些原因（注：复杂度，成本？）的考量，TPM的物理防护设计由厂商实现，厂商可以根据情况进行差异化实现。不过基于TPM的安全技术包含了对软件攻击防护的设计。

IBM个人电脑是第一个使用TPM的产品，TPM以类似智能卡芯片的方式连接到主板（智能卡芯片内部也有类似的安全协处理器，这种方式主流平台使用多年）。HP和DELL随后跟进，到2005年时已经很难发现不带TPM的个人电脑了。

TPM1.1b的一个不足之处是硬件层面的兼容性不够好。因为TPM厂商通常在硬件实现上有一些细微的差异，这导致不同的TPM芯片可能需要不同的设备驱动程序，同时芯片的引脚也没有被标准化。
